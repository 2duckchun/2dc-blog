---
title: '쓰기 편한 모달 개발기'
description: '간편하게 내용물만 바꿔칠 수 있는 모달 구조를 만들어 보았습니다.'
thumbnail: '/images/react.png'
tags: ['frontend', 'implementation']
draft: true
created_date: 2025-09-23 21:45:06
---

# 쓰기 편한 모달 개발기

## 만들게 된 계기

모달을 일반화해서 사용하는 것은 보통 권장되는 일이고, 대부분 업무에서 그렇게들 활용하고 있을 것이다. 본인 같은 경우는 아래와 같이 일반화해서 사용하고 있었다.

```js
//code
```

전역 프로바이더에 전용 모달 프로바이더를 두고, 함수처럼 호출하여 사용하는 개념의 모달이다. 이런 구조의 경우, 간단한 알림 등의 목적으로는 매우 활용이 용이하다.

그러나 모달 컨텐츠에 복잡한 기능을 내장해야할 경우, 이 일반화 구조는 제대로 동작하지 않을 수 있다. 기본적으로 함수처럼 호출하여 사용하는 모달의 경우, 상태값을 스냅샷으로 이용해 모달을 만들기 때문이다. 그래서 모달이 한번 열리면 내부의 상태값이 절대로 바뀌지 않을 때가 생긴다. 물론 useCallback을 써서 해결하는 방법도 고려해볼 수 있겠지만, 버그를 양산하고, 성능에도 좋지 않을 뿐더러, 직관적이지 않기 때문에 유지보수에 좋지 않을 것이다.

따라서 복잡한 기능을 가진 모달들은 각각의 도메인에 맞게 따로 개발을 해왔었다.

```js
// code
```

이렇게 구현을 할 경우, 동작 자체는 잘 되지만 이 모달을 과연 어디다가 추가할 것인지에 대한 문제에 직면하게 된다.

도메인 뷰 사이사이에 꽂아넣을 경우, 모달을 도메인에 응집시켜 놓을 수는 있으나 유지보수가 어려워 질 것이다.
그렇다고 전역 프로바이더에서 모두 관리를 하자니, 그것 또한 막막하다.

```js
// code
```

고민하던 도중 이런 복잡한 모달들은 몇가지 공통점이 있다는 것을 발견하였다.

1. 복잡한 모달은 특정 도메인에 종속되는 경우가 많다.
2. 특정 도메인에 종속된 모달의 경우, 다른 도메인의 모달을 부르는 빈도가 없거나 매우 적다.
3. 복잡한 모달 하나에 알림 모달 여러개가 나오는 방식으로 동작한다.

따라서 내가 집중해야할 것은 복잡한 구조를 가진 모달을 어떻게 하면 쉽게 열 수 있을지로 좁혀졌다.
전역 프로바이더에 모달 껍데기를 놓되, 적절히 훅의 형태로 사용할 수 있으면 좋을 것 같다고 생각했다.
